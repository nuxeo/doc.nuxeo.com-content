---
title: Installing Git
review:
    comment: ''
    date: ''
    status: ok
labels:
    - git
toc: true
confluence:
    ajs-parent-page-id: '9275205'
    ajs-parent-page-title: Developer Environment Setup
    ajs-space-key: CORG
    ajs-space-name: Core Developer Guide
    canonical: Installing+Git
    canonical_source: 'https://doc.nuxeo.com/display/CORG/Installing+Git'
    page_id: '9275249'
    shortlink: cYeN
    shortlink_source: 'https://doc.nuxeo.com/x/cYeN'
    source_link: /display/CORG/Installing+Git
tree_item_index: 100
history:
    -
        author: Solen Guitter
        date: '2016-09-02 07:46'
        message: ''
        version: '48'
    -
        author: Julien Carsique
        date: '2016-06-24 15:11'
        message: fetch pull requests
        version: '47'
    -
        author: Julien Carsique
        date: '2015-10-01 17:34'
        message: oldest-ancestor
        version: '46'
    -
        author: Manon Lumeau
        date: '2015-09-29 13:37'
        message: ''
        version: '45'
    -
        author: Bertrand Chauvin
        date: '2015-09-29 13:35'
        message: ''
        version: '44'
    -
        author: Julien Carsique
        date: '2015-09-07 10:24'
        message: improve pullr alias
        version: '43'
    -
        author: Manon Lumeau
        date: '2015-08-14 08:01'
        message: ''
        version: '42'
    -
        author: Julien Carsique
        date: '2015-08-13 13:06'
        message: ''
        version: '41'
    -
        author: Julien Carsique
        date: '2015-08-13 13:06'
        message: pullr with autosquash
        version: '40'
    -
        author: Julien Carsique
        date: '2015-08-13 10:35'
        message: ''
        version: '39'
    -
        author: Julien Carsique
        date: '2015-08-13 10:35'
        message: ''
        version: '38'
    -
        author: Julien Carsique
        date: '2015-07-28 10:16'
        message: ''
        version: '37'
    -
        author: Julien Carsique
        date: '2015-07-17 13:33'
        message: ''
        version: '36'
    -
        author: Julien Carsique
        date: '2015-07-17 13:32'
        message: ''
        version: '35'
    -
        author: Anahide Tchertchian
        date: '2015-04-02 13:59'
        message: fix link
        version: '34'
    -
        author: Anahide Tchertchian
        date: '2015-04-02 13:58'
        message: warn about accents
        version: '33'
    -
        author: Julien Carsique
        date: '2015-02-26 16:09'
        message: sample global config
        version: '32'
    -
        author: Julien Carsique
        date: '2015-02-26 15:53'
        message: ''
        version: '31'
    -
        author: Julien Carsique
        date: '2015-02-26 15:38'
        message: ''
        version: '30'
    -
        author: Julien Carsique
        date: '2015-02-26 15:23'
        message: Git recommended global conf
        version: '29'
    -
        author: Julien Carsique
        date: '2014-12-01 18:36'
        message: improved fix alias for empty commits
        version: '28'
    -
        author: Julien Carsique
        date: '2014-07-22 15:19'
        message: ''
        version: '27'
    -
        author: Julien Carsique
        date: '2014-07-22 15:01'
        message: ''
        version: '26'
    -
        author: Julien Carsique
        date: '2014-07-22 14:59'
        message: ''
        version: '25'
    -
        author: Solen Guitter
        date: '2013-11-12 12:09'
        message: ''
        version: '24'
    -
        author: Julien Carsique
        date: '2013-11-07 18:08'
        message: ''
        version: '23'
    -
        author: Anahide Tchertchian
        date: '2013-09-27 16:32'
        message: ''
        version: '22'
    -
        author: Anahide Tchertchian
        date: '2013-09-27 15:30'
        message: ''
        version: '21'
    -
        author: Anahide Tchertchian
        date: '2013-09-27 15:28'
        message: ''
        version: '20'
    -
        author: Julien Carsique
        date: '2013-07-04 17:52'
        message: Make fix alias compliant with dash and avoid useless call to stash
        version: '19'
    -
        author: Julien Carsique
        date: '2013-07-01 12:43'
        message: ''
        version: '18'
    -
        author: Julien Carsique
        date: '2013-06-28 16:56'
        message: ''
        version: '17'
    -
        author: Solen Guitter
        date: '2013-04-25 21:56'
        message: ''
        version: '16'
    -
        author: Julien Carsique
        date: '2012-12-06 16:11'
        message: Better id alias
        version: '15'
    -
        author: Julien Carsique
        date: '2012-12-04 12:30'
        message: ''
        version: '14'
    -
        author: Julien Carsique
        date: '2012-12-03 17:08'
        message: ''
        version: '13'
    -
        author: Solen Guitter
        date: '2012-12-03 17:04'
        message: ''
        version: '12'
    -
        author: Julien Carsique
        date: '2012-01-31 11:06'
        message: Migrated to Confluence 4.0
        version: '11'
    -
        author: Julien Carsique
        date: '2012-01-31 11:06'
        message: ''
        version: '10'
    -
        author: Anahide Tchertchian
        date: '2012-01-30 18:14'
        message: ''
        version: '9'
    -
        author: Anahide Tchertchian
        date: '2012-01-30 17:56'
        message: ''
        version: '8'
    -
        author: Anahide Tchertchian
        date: '2012-01-30 17:34'
        message: ''
        version: '7'
    -
        author: Anahide Tchertchian
        date: '2012-01-30 17:33'
        message: ''
        version: '6'
    -
        author: Anahide Tchertchian
        date: '2012-01-30 17:30'
        message: ''
        version: '5'
    -
        author: Anahide Tchertchian
        date: '2012-01-30 17:30'
        message: ''
        version: '4'
    -
        author: Anahide Tchertchian
        date: '2012-01-30 17:21'
        message: ''
        version: '3'
    -
        author: Anahide Tchertchian
        date: '2012-01-30 16:45'
        message: ''
        version: '2'
    -
        author: Julien Carsique
        date: '2012-01-09 18:42'
        message: ''
        version: '1'

---
## Installation

Download available at <https://git-scm.com/download>.

## Creation of a GitHub Account

To be able to clone and push on the GitHub repository in read write mode, you need a GitHub account with the write access to the Nuxeo
repositories.

Create your own account with your email address and configure your git to use the same address, for instance:

```
$ git config --global user.name "My Name"
$ git config --global user.email myaddress@example.com

```

This will be stored in your ~/.gitconfig file.

{{#> callout type='note' }}

Contributors don't need a write access to Nuxeo repositories since they will push changes to their own forked repositories and send pull-requests to Nuxeo.

{{/callout}} {{#> callout type='warning' }}

Please don't put accents and such in your username (as well in the commit message) because of [NXBT-907](https://jira.nuxeo.com/browse/NXBT-907).

{{/callout}}

## Configuration

### SSH Key

On the GitHub site, click **Account Settings**&nbsp;> Click **SSH Public Keys**&nbsp;> Click **Add another public key** and add your public key there.

It will be used for authentication against any Git URL of the form "`git@github.com:nuxeo/...`".

### Global Configuration

Here is a global Git configuration which enforces Nuxeo Git usage recommendations

```
git config --global core.autocrlf input
git config --global core.safecrlf warn
git config --global core.ignorecase false
git config --global core.whitespace trailing-space,space-before-tab
git config --global apply.whitespace fix
git config --global push.default upstream
git config --global merge.renormalize true
git config --global remote.origin.fetch "+refs/pull/*/head:refs/remotes/origin/pull/*"
```

You can give a look at [https://gist.github.com/jcarsique/24f8dd46d176bb67253e](https://gist.github.com/jcarsique/24f8dd46d176bb67253e)

### Aliases

Aliases can be added to your personal configuration by running:

```
git config --global alias.aliasname command

```

For instance to add the "st" alias for the "status" command:

```
git config --global alias.st status

```

These aliases are stored in the ~/.gitconfig file, you can also edit it manually.

Here are some aliases inspired from our Mercurial usage and from our current experience with Git:

{{! multiexcerpt name='git-aliases'}}

```
# Before Git 1.8.3 (May 24, 2013), remove the occurrences of `%C(auto)` or replace them with fixed colors such as `%Cgreen`, `%C(bold blue)`...

# Simple shortcuts
`ls = "ls-tree --name-only"`
`ll = "ls-tree -l"`
`st = status -sb`
`ci = commit`
`co = checkout`
`br = branch`
`branches = branch -a`
`di = diff`
`dic = diff --staged`
`id = show -s --pretty=format:'%C(auto)%h%d'`
`rollback = git reset --soft HEAD^`
# Because "pull --rebase" and "rebase" are finally more used than "pull" and "merge"
`pullr = "!git fetch \"$@\" && git rebase --autostash @{push}"`
# Because we sometimes really want a merge
`pullnor = pull --no-rebase`

# Amend a changeset (less powerful but quicker and easier than the interactive rebase)
 `fix = "!_() { c=$(git rev-parse $1) && git commit --fixup $c && git -c core.editor=cat rebase -i --autosquash --keep-empty --autostash $c~; }; _"`

# Using ref to upstream branch available since Git 1.7 (@{upstream})
# Incoming changes
`in = "!git remote update -p; git log ..@{u}"`
# Outgoing changes
`out = log @{u}..`
# Outgoing changes on all remote-tracked branches
`outall = log --branches --not --remotes=origin`
# Branch fork point (aka oldest ancestor)
`oldest-ancestor = !bash -c 'diff -u1 <(git rev-list --first-parent "${1:-master}") <(git rev-list --first-parent "${2:-HEAD}") | sed -ne \"s/^ //p\"' -`

# Various log display
`lg = log --graph --pretty=format:'%C(auto)%h -%d %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit`
`glog = log --graph --abbrev-commit --date=relative`
`logone = log --pretty=format:'%C(auto)%m %h %Cgreen%ad %C(blue)%<(20)%aN %Creset%s %N %C(auto)%d' --left-right --cherry-pick --date=short`
# Latests changes since last pull
`lc = log --pretty=oneline --abbrev-commit --graph --decorate ORIG_HEAD.. --stat --no-merges`
# Latest updated branches
`latest = for-each-ref --count=10 --sort=-committerdate --format='%(committerdate:short) %(refname:short)'`
# Latest updated local branches
`latestl = for-each-ref --count=10 --sort=-committerdate refs/heads --format='%(committerdate:short) %(refname:short)'`

# Commits per user
`who = "shortlog -ne --format='%h %s'"`
# LoC per user (BSD)
`authorship = "!git ls-files -z|xargs -0 -n1 -E'\n' -J {} git blame --date short -wCMcp '{}'| perl -pe 's/^.*?\\((.*?) +\\d{4}-\\d{2}-\\d{2} +\\d+\\).*/\\1/'| sort | uniq -c | sort -rn"`
# LoC per user (GNU)
`authorship = "!git ls-files -z|xargs -0 -n1 -E'\n' | git blame --date short -wCMcp -- | perl -pe 's/^.*?\\((.*?) +\\d{4}-\\d{2}-\\d{2} +\\d+\\).*/\\1/'| sort | uniq -c | sort -rn"`

# See [https://gist.github.com/jcarsique/24f8dd46d176bb67253e](https://gist.github.com/jcarsique/24f8dd46d176bb67253e) for more aliases.
```
{{! /multiexcerpt}}

## Integration

### Bash Integration with Volnitsky Project

Far from perfect, its advantage is to also manage Mercurial and Subversion repositories.

See [http://volnitsky.com/project/git-prompt/](http://volnitsky.com/project/git-prompt/)

### Bash/Zsh Integration with Git Contribution

Clone [https://github.com/git/git](https://github.com/git/git)

Then add into your `~/.profile`, `~/.bashrc` or `~/.zshrc` the following:

```
# Git prompt
source ~/path_to_git_clone/contrib/completion/git-prompt.sh
# Git completion; import the file corresponding to your Shell:
source ~/path_to_git_clone/contrib/completion/git-completion.bash
source ~/path_to_git_clone/contrib/completion/git-completion.zsh

# Additional custom changes
GIT_PS1_SHOWDIRTYSTATE=1
GIT_PS1_SHOWUNTRACKEDFILES=1
GIT_PS1_SHOWSTASHSTATE=1
GIT_PS1_SHOWUPSTREAM="auto verbose"
# Reduce PWD in prompt to last 30 chars of PWD
function truncate_pwd
{
  newPWD="${PWD/#$HOME/~/}"
  local pwdmaxlen=100
  if [ ${#newPWD} -gt $pwdmaxlen ]
  then
    newPWD="...${newPWD: -$pwdmaxlen}"
  fi
}
PROMPT_COMMAND=truncate_pwd
PS1='$? [\[\033[1;35m\]$newPWD$(__git_ps1 " \[\033[1;34m\](%s)")\[\033[0m\]]\$ '
```

## Helpful Documentation

[http://help.github.com/linux-set-up-git/](http://help.github.com/linux-set-up-git/)
