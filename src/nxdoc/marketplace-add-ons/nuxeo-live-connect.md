---
title: Nuxeo Live Connect
review:
    comment: ''
    date: ''
    status: ok
labels:
    - lts2015-ok
    - live-connect-component
    - university
toc: true
confluence:
    ajs-parent-page-id: '28475782'
    ajs-parent-page-title: Marketplace Add-Ons
    ajs-space-key: NXDOC710
    ajs-space-name: Nuxeo Platform Developer Documentation — LTS 2015
    canonical: Nuxeo+Live+Connect
    canonical_source: 'https://doc.nuxeo.com/display/NXDOC710/Nuxeo+Live+Connect'
    page_id: '28475497'
    shortlink: aYCyAQ
    shortlink_source: 'https://doc.nuxeo.com/x/aYCyAQ'
    source_link: /display/NXDOC710/Nuxeo+Live+Connect
history:
    -
        author: Solen Guitter
        date: '2016-05-30 15:53'
        message: 'emove One Drive section, available from FT 8.2 and not LTS 201'
        version: '41'
    -
        author: Manon Lumeau
        date: '2016-04-14 10:18'
        message: Added OneDrive and Box
        version: '40'
    -
        author: Solen Guitter
        date: '2016-03-04 15:06'
        message: ''
        version: '39'
    -
        author: Manon Lumeau
        date: '2016-02-12 10:00'
        message: Fix content
        version: '38'
    -
        author: Michaël Vachette
        date: '2015-12-11 17:28'
        message: ''
        version: '37'
    -
        author: Bertrand Chauvin
        date: '2015-12-03 15:51'
        message: Add link to video course
        version: '36'
    -
        author: Bertrand Chauvin
        date: '2015-11-18 11:11'
        message: formatting
        version: '35'
    -
        author: Bertrand Chauvin
        date: '2015-11-18 11:10'
        message: formatting
        version: '34'
    -
        author: Bertrand Chauvin
        date: '2015-11-18 11:10'
        message: Added video
        version: '33'
    -
        author: Arnaud Kervern
        date: '2015-10-27 16:21'
        message: ''
        version: '32'
    -
        author: Arnaud Kervern
        date: '2015-10-27 16:20'
        message: ''
        version: '31'
    -
        author: Anahide Tchertchian
        date: '2015-10-05 15:23'
        message: cosmit
        version: '30'
    -
        author: Anahide Tchertchian
        date: '2015-10-05 15:22'
        message: cosmit
        version: '29'
    -
        author: Anahide Tchertchian
        date: '2015-10-05 15:22'
        message: follow google drive ui changes
        version: '28'
    -
        author: Joshua Fletcher
        date: '2015-09-17 22:48'
        message: Clarify field mapping.
        version: '27'
    -
        author: Joshua Fletcher
        date: '2015-09-17 22:45'
        message: >-
            Add missing step for Dropbox configuration, add note about SSL
            requirement.
        version: '26'
    -
        author: Nelson Silva
        date: '2015-08-24 10:28'
        message: ''
        version: '25'
    -
        author: Nelson Silva
        date: '2015-07-08 08:26'
        message: Added synchronization scheduler configuration notes
        version: '24'
    -
        author: Joshua Fletcher
        date: '2015-07-01 17:28'
        message: typos
        version: '23'
    -
        author: Manon Lumeau
        date: '2015-07-01 08:11'
        message: ''
        version: '22'
    -
        author: Manon Lumeau
        date: '2015-07-01 08:11'
        message: ''
        version: '21'
    -
        author: Manon Lumeau
        date: '2015-06-30 14:53'
        message: ''
        version: '20'
    -
        author: Joshua Fletcher
        date: '2015-06-29 20:17'
        message: typo
        version: '19'
    -
        author: Manon Lumeau
        date: '2015-06-29 14:53'
        message: ''
        version: '18'
    -
        author: Solen Guitter
        date: '2015-06-24 14:34'
        message: ''
        version: '17'
    -
        author: Solen Guitter
        date: '2015-06-24 14:14'
        message: ''
        version: '16'
    -
        author: Solen Guitter
        date: '2015-06-24 13:21'
        message: Update feature table
        version: '15'
    -
        author: Solen Guitter
        date: '2015-06-24 13:15'
        message: Add functional overview for Google Drive
        version: '14'
    -
        author: Solen Guitter
        date: '2015-06-24 12:17'
        message: Add Dropbox set up steps
        version: '13'
    -
        author: Solen Guitter
        date: '2015-06-23 10:02'
        message: ''
        version: '12'
    -
        author: Solen Guitter
        date: '2015-06-22 15:51'
        message: ''
        version: '11'
    -
        author: Alain Escaffre
        date: '2015-06-19 17:19'
        message: ''
        version: '10'
    -
        author: Alain Escaffre
        date: '2015-06-19 17:17'
        message: ''
        version: '9'
    -
        author: Alain Escaffre
        date: '2015-06-19 17:12'
        message: ''
        version: '8'
    -
        author: Alain Escaffre
        date: '2015-06-19 17:11'
        message: ''
        version: '7'
    -
        author: Alain Escaffre
        date: '2015-06-19 17:10'
        message: ''
        version: '6'
    -
        author: Alain Escaffre
        date: '2015-06-19 17:02'
        message: ''
        version: '5'
    -
        author: Alain Escaffre
        date: '2015-06-19 16:59'
        message: ''
        version: '4'
    -
        author: Alain Escaffre
        date: '2015-06-19 16:54'
        message: ''
        version: '3'
    -
        author: Alain Escaffre
        date: '2015-06-19 16:53'
        message: ''
        version: '2'
    -
        author: Alain Escaffre
        date: '2015-06-19 16:40'
        message: ''
        version: '1'

---
{{#> callout type='tip'}}
Follow the related [video course and exercises](https://university.hyland.com/courses/e4071) on Hyland University.
{{/callout}}

Live Connect allows you to create a content application that handles cloud files (Dropbox, Google Drive, in the future One Drive, Box...) as if they were local files. Files remain in the cloud but they are referenced in the Nuxeo repository as if they were stored within it. This allows the user to benefit from thumbnailing service, full text, conversions, etc.

Live Connect for Google Drive also brings the "Cloud Edit" mode. Your application based on the Nuxeo Platform can provide the users with a direct link to the SaaS applications that you can use for editing Google Drive files (Google Docs, Office 365, Pixlr, etc.).

Live Connect is designed to allow many implementations. Default implementations are:

*   Live Connect for Google Drive
*   Live Connect for Dropbox

## Live Connect Features

Live Connect provides a set of features described below.

*   **File download**: File download is made by redirecting the user's browser to the native download URL of the considered backend.
*   **Full-text indexation**: The text of the content is extracted and sent to the Elasticsearch index so as to be able to perform native Nuxeo Platform search using NXQL and standard search screens of the JSF UI.
*   **File conversion in PDF**, using the provider's conversion system: When a PDF conversion is asked for a Live Connect file, the user's browser is redirected to the provider's direct URL for getting the PDF version.
*   **File preview**, using native provider's preview.
*   **Thumbnail generation**, using provider's thumbnail.
*   **Apps link**: Links that can be used to edit the file in the cloud.
*   **Update of the document**: If a document is updated on the backend, the reference will be updated (full text index, thumbnail, filename...)
*   **Native versioning**: When a version of the document is created in the Nuxeo Platform, a versioning order is sent to the backend so as to make a version of the file on the backend and make sure to be able to get back the file in the future.

Depending on the backend capabilities of the provider, not all features are available.

{{! /excerpt}}

The table below shows the available features for each default implementation.

<div class="table-scroll"><table class="hover"><tbody><tr><th colspan="1">Feature</th><th colspan="1">Available for Google Drive</th><th colspan="1">Available for Dropbox</th></tr><tr><td colspan="1">Download URL</td><td colspan="1">Yes</td><td colspan="1">Yes<sup>*</sup></td></tr><tr><td colspan="1">Full-text indexation</td><td colspan="1">Yes</td><td colspan="1">Yes<sup>*</sup></td></tr><tr><td colspan="1">PDF conversion</td><td colspan="1">Yes</td><td colspan="1">Yes<sup>*</sup></td></tr><tr><td colspan="1">Preview</td><td colspan="1">Yes</td><td colspan="1">Yes<sup>*</sup></td></tr><tr><td colspan="1">Thumbnail</td><td colspan="1">Yes</td><td colspan="1">Yes</td></tr><tr><td colspan="1">Link to cloud app</td><td colspan="1">Yes</td><td colspan="1">No</td></tr><tr><td colspan="1">Versioning</td><td colspan="1">Yes (non-native Google Drive documents)</td><td colspan="1">Yes<sup>*</sup></td></tr><tr><td colspan="1">Update of the document</td><td colspan="1">Yes</td><td colspan="1">No</td></tr></tbody></table></div>

<sup>*</sup> _Provided by the Nuxeo Platform_

## Live Connect For Google Drive

### Functional Overview

#### Creating New Google Drive Documents

On the document creation form, a Google Drive button enables you to browse your Google Drive content and select a document stored there.

![]({{file name='7.3_LiveConnect_file_creation.png'}} ?w=500,border=true)

This option is available for the following Nuxeo document types:

*   File
*   Picture
*   Video
*   Audio

#### Editing Content

Native documents stored on Google Drive can be edited using the native Google Drive application: Google docs, Pixlr, etc.

![]({{file name='7.3_LiveConnect_GoogleDrive.png'}} ?w=500,border=true)

You can fill their metadata like any other metadata.

Content edit actions are tracked in the document history in the Nuxeo Platform and in Google Drive.

#### Browsing and Searching Content

Google Drive documents can be searched in the Nuxeo Platform like any other document: their content is indexed in the platform, as well as their metadata. They are displayed in search results like a Nuxeo document. Their thumbnail is provided by Google Drive.

### Setting Up Live Connect for Google Drive

**Step 1: Preparing your application accounts on the Google developer console**

1.  Go to&nbsp;[https://console.developers.google.com/project](https://console.developers.google.com/project).
2.  Create a new project.
3.  Enable Drive API: In **APIs & auth** > **APIs** click on **Drive API** (maybe search for it first to filter the list) and then on the **Enable API** button.
4.  Edit your consent screen: In **APIs & auth** > **Credentials** click on **OAuth consent Screen**, fill the product name (the name of your application). You can also upload a logo, etc. This is what is displayed when the user authenticates through Google.
5.  Create a new OAuth Client ID: In **APIs & auth** > **Credentials** click on **Add credentials** and select **OAuth 2.0 client ID**.

    1.  Choose **Web Application**.
    2.  For **Authorized JavaScript origins** set the URL of your server. Ex: [http://localhost:8080](http://localhost:8080/)
    3.  For **Authorized redirect URIs** set the following URL, adapting the hostname and port to your case: `http://NUXEO_SERVER/nuxeo/site/oauth2/googledrive/callback`

The console redirects you to a page where you can see the client id and secret id values. You will need them in the next steps.

**Step 2: Configuring the Nuxeo Platform**

1.  Install the package [Nuxeo Live Connect](https://connect.nuxeo.com/nuxeo/site/marketplace/package/nuxeo-liveconnect) if it is not already installed.
2.  In the Admin tab, go to **Cloud Services** > **Service providers**.
3.  In the **OAuth2 Service providers** section, update the service whose name is &ldquo;googledrive&rdquo; by clicking on the **Modify** button.
4.  Set the client id and client secret values with the one you got on the previous step.
5.  Make sure the **Enabled** box is checked.
6.  Save.

You are ready to use it, just go in the workspace section and create a file object: you can use the Google Drive file picker

{{#> callout type='note' }}
To use the Google Drive file picker with Internet Explorer 11, the following URL must be added to IE11's trusted sites zone: https://accounts.google.com.
{{/callout}}

## Live Connect For Dropbox

### Functional Overview

#### Creating New Dropbox Documents

On the document creation form, a Dropbox button enables you to browse your Dropbox content and select a document stored there.

![]({{file name='7.3_LiveConnect_file_creation.png'}} ?w=500,border=true)

This option is available for the following Nuxeo document types:

*   File
*   Picture
*   Video
*   Audio

#### Browsing and Searching Content

Dropbox documents can be searched in the Nuxeo Platform like any other document: their content is indexed in the platform, as well as their metadata. They are displayed in search results like a Nuxeo document. Their thumbnail is provided by Dropbox.

### Setting Up Live Connect for Dropbox

**Step 1: Preparing your application accounts on the Dropbox App console**

1.  Go to [https://www.dropbox.com/developers/apps](https://www.dropbox.com/developers/apps).
2.  Click on **App console**.
3.  Click on the button **Create app**.
4.  Select **Dropbox API**
5.  Select the permission Type **Full Dropbox**
    *   The **App folder** permission won't work due to limitations in Dropbox API
6.  Enter the name of your application.
7.  Click on the button **Create app**.
8.  From the **Settings** tab, copy the App key and App secret.
9.  In the **OAuth 2** > **Redirect URIs** set the following URL, adapting the hostname and port to your case: `http://NUXEO_SERVER/nuxeo/site/oauth2/dropbox/callback`.
10.  In **Drop-ins domains** set the domain name of your site.

{{#> callout type='info' }}

Please note that Dropbox only allows http for localhost. For all other sites https must be used. Please see [HTTP and HTTPS Reverse-Proxy Configuration](/x/GAFc).

{{/callout}} {{#> callout type='info' }}

To enable additional users on your application, go to **Settings** > **Development users** and click on **Enable additional users.**

{{/callout}}

**Step 2: Configuring the Nuxeo Platform**

1.  Install the package Nuxeo Live Connect if it is not already installed.
2.  In the **ADMIN** tab, go to **Cloud Services** > **Service providers**.
3.  In the **OAuth2 Service providers** section click on the **Modify** button of the 'dropbox' service provider.
4.  Paste the Dropbox App key in **ClientID**.
5.  Paste the Dropbox App secret in **Client Secret**.
6.  Make sure the **Enabled** box is checked.
7.  Now go to the **HOME** tab and click 'Cloud Services' tab and click the **Connect to Dropbox** button or just create a new Dropbox document.

{{#> callout type='note' }}
To use the Dropbox file picker with Internet Explorer 11, the following URL must be added to IE11's trusted sites zone: https://www.dropbox.com.
{{/callout}}


## Live Connect For Box

### Functional Overview

#### Creating New Box Documents

On the document creation form, a Box button enables you to browse your Box content and select a document stored there.

![]({{file name='8.2_LiveConnect_file_creation.png' space='nxdoc' version='810' page='nuxeo-live-connect'}} ?w=500,h=366,border=true)

This option is available for the following Nuxeo document types:

*   File
*   Picture
*   Video
*   Audio

#### Browsing and Searching Content

Box documents can be searched in the Nuxeo Platform like any other document: their content is indexed in the platform, as well as their metadata. They are displayed in search results like a Nuxeo document. Their thumbnail is provided by Box.

### Setting Up Live Connect for Box

**Step 1: Preparing your application accounts on the Box App console**

1.  Go to [https://app.box.com/developers/services](https://app.box.com/developers/services).
2.  Click on **Create a Box Application**.
3.  Enter the name of your application and select **Box Content**.
4.  Click on **Configure your application**.
5.  In **redirect_uri** set the following URL, adapting the hostname and port to your case: `http://NUXEO_SERVER/nuxeo/site/oauth2/box/callback`.
6.  Copy the client_id and client_secret.
7.  Click on button **Save Application**.

{{#> callout type='info' }}

Please note that Box only allows http for localhost. For all other sites https must be used. See [HTTP and HTTPS Reverse-Proxy Configuration](/x/GAFc).

{{/callout}}

**Step 2: Configuring the Nuxeo Platform**

1.  Install the package Nuxeo Live Connect if it is not already installed.
2.  In the **ADMIN** tab, go to **Cloud Services**&nbsp;> **Service providers**.
3.  In the **OAuth2 Service providers** section click on the **Modify** button of the **box** service provider.
4.  Paste the Box client_id in **ClientID**.
5.  Paste the Box client_secret in **Client Secret**.
6.  Make sure the **Enabled** box is checked.
7.  Save.
8.  Now go to the **HOME** tab and click **Cloud Services** tab and click the **Connect to Box** button or just create a new Box document.

{{#> callout type='note' }}
To use the Box file picker with Internet Explorer 11, the following URLs must be added to IE11's trusted sites zone:
- https://app.box.com
- https://cdn01.boxcdn.net
{{/callout}}


### Adding Trusted Sites to Internet Explorer 11

In order to be able to use the external file pickers provided by Live Connect, certain URLs must be added to the list
of trusted websites. This can be done as follows:

1. Go to **Settings**
1. Click the **Internet Options** menu entry
1. Go to **Security** > **Trusted sites**
1. Click on the **Sites** button and add your URL

![]({{file name='adding_trusted_sites_ie11.png'}} ?w=400,border=true)

## Advanced Live Connect Configuration

### Synchronization

Since cloud files can be changed externally Nuxeo Live Connect relies on a scheduled synchronization process to ensure local metadata is kept up to date. Things like the document's title, thumbnail, full text for indexing, etc, are not updated in realtime since they rely on this regular synchronization job which is set to run every 5 minutes by default.

To change this interval users can override the default contribution:

```xml
<component name="org.nuxeo.ecm.liveconnect.scheduler.override">
  <require>org.nuxeo.ecm.liveconnect.scheduler</require>

  <extension target="org.nuxeo.ecm.core.scheduler.SchedulerService" point="schedule">
    <schedule id="blobProviderDocumentUpdate">
      <event>blobProviderDocumentUpdateEvent</event>
      <!-- default is 0 0/5 * * * ? (every 5 minutes)  -->
	  <!-- change it to run every 30s -->
      <cronExpression>0/30 * * * * ?</cronExpression>
    </schedule>
  </extension>
</component>
```

**Note:** Synchronization requires service calls that might be subject to quotas and/or limits. Please refer to each provider's documentation for further information.

## Known General Limitations

*   **Nuxeo Drive** is not compatible with files that are stored on a Live Connect backend: files will be downloaded, but it won't be possible to update them.
*   **Native versioning**: Only non-native Google Drive documents have revisions created on the Google Drive side.
