---
title: How to Add a Button in the JSF UI
review:
    comment: ''
    date: '2019-02-13'
    status: ok
details:
    howto:
        excerpt: Learn how to add new buttons at different locations in the JSF UI using user actions and automation (in a document contextual tools or on a document Edit form for instance).
        level: Beginner
        tool: 'Studio, XML extension'
        topics: 'Automation, Extension, Tab, User action, JSF UI'
notes: Documentation page used by the Marketing team. Check with Marketing before deleting or moving.
labels:
    - content-review-lts2016
    - howto
    - automation
    - user-action
    - action
    - atchertchian
    - studio
    - actions-filters-component
    - excerpt
    - content-review-lts2017
toc: true
confluence:
    ajs-parent-page-id: '20517820'
    ajs-parent-page-title: JSF UI How-To Index
    ajs-space-key: NXDOC
    ajs-space-name: Nuxeo Platform Developer Documentation
    canonical: How+to+Add+a+Button+in+the+JSF+UI
    canonical_source: 'https://doc.nuxeo.com/display/NXDOC/How+to+Add+a+Button+in+the+JSF+UI'
    page_id: '8192401'
    shortlink: kQF9
    shortlink_source: 'https://doc.nuxeo.com/x/kQF9'
    source_link: /display/NXDOC/How+to+Add+a+Button+in+the+JSF+UI
tree_item_index: 1100
version_override:
    '6.0': 60/nxdoc/how-to-add-a-button-in-the-web-ui
history:
    -
        author: Solen Guitter
        date: '2016-09-05 10:00'
        message: ''
        version: '44'
    -
        author: Manon Lumeau
        date: '2016-01-19 10:44'
        message: 'replace "Write" by "Edit"     '
        version: '43'
    -
        author: Anahide Tchertchian
        date: '2015-10-13 13:07'
        message: ''
        version: '42'
    -
        author: Solen Guitter
        date: '2015-01-26 16:48'
        message: ''
        version: '41'
    -
        author: Solen Guitter
        date: '2014-12-03 11:47'
        message: ''
        version: '40'
    -
        author: Alain Escaffre
        date: '2014-12-02 22:38'
        message: ''
        version: '39'
    -
        author: Alain Escaffre
        date: '2014-12-02 22:32'
        message: ''
        version: '38'
    -
        author: Alain Escaffre
        date: '2014-12-02 22:32'
        message: ''
        version: '37'
    -
        author: Solen Guitter
        date: '2014-12-02 18:41'
        message: ''
        version: '36'
    -
        author: Solen Guitter
        date: '2014-12-01 22:32'
        message: ''
        version: '35'
    -
        author: Anahide Tchertchian
        date: '2014-12-01 12:12'
        message: ''
        version: '34'
    -
        author: Solen Guitter
        date: '2014-09-19 10:17'
        message: ''
        version: '33'
    -
        author: Solen Guitter
        date: '2014-09-19 10:01'
        message: ''
        version: '32'
    -
        author: Manon Lumeau
        date: '2014-06-05 15:28'
        message: ''
        version: '31'
    -
        author: Manon Lumeau
        date: '2014-05-23 15:14'
        message: ''
        version: '30'
    -
        author: Manon Lumeau
        date: '2014-05-23 15:11'
        message: ''
        version: '29'
    -
        author: Manon Lumeau
        date: '2014-05-23 15:01'
        message: ''
        version: '28'
    -
        author: Anahide Tchertchian
        date: '2014-05-14 11:10'
        message: ''
        version: '27'
    -
        author: Anahide Tchertchian
        date: '2014-05-14 11:06'
        message: ''
        version: '26'
    -
        author: Alain Escaffre
        date: '2013-10-17 17:44'
        message: ''
        version: '25'
    -
        author: Alain Escaffre
        date: '2013-10-17 17:30'
        message: ''
        version: '24'
    -
        author: Solen Guitter
        date: '2013-09-02 15:32'
        message: Fixed broken screenshots
        version: '23'
    -
        author: Solen Guitter
        date: '2013-07-17 17:26'
        message: Added excerpt
        version: '22'
    -
        author: Solen Guitter
        date: '2011-09-06 15:50'
        message: Migrated to Confluence 4.0
        version: '21'
    -
        author: Solen Guitter
        date: '2011-09-06 15:50'
        message: Added related tutorials
        version: '20'
    -
        author: Solen Guitter
        date: '2011-09-02 14:53'
        message: ''
        version: '19'
    -
        author: Solen Guitter
        date: '2011-09-02 12:33'
        message: ''
        version: '18'
    -
        author: Frédéric Vadon
        date: '2011-08-19 16:23'
        message: ''
        version: '17'
    -
        author: Frédéric Vadon
        date: '2011-08-19 16:19'
        message: ''
        version: '16'
    -
        author: Frédéric Vadon
        date: '2011-08-08 11:22'
        message: ''
        version: '15'
    -
        author: Frédéric Vadon
        date: '2011-08-08 11:21'
        message: ''
        version: '14'
    -
        author: Frédéric Vadon
        date: '2011-08-08 11:21'
        message: ''
        version: '13'
    -
        author: Solen Guitter
        date: '2011-08-06 00:56'
        message: ''
        version: '12'
    -
        author: Frédéric Vadon
        date: '2011-08-05 18:01'
        message: ''
        version: '11'
    -
        author: Frédéric Vadon
        date: '2011-08-05 17:59'
        message: ''
        version: '10'
    -
        author: Frédéric Vadon
        date: '2011-08-05 17:58'
        message: ''
        version: '9'
    -
        author: Frédéric Vadon
        date: '2011-08-05 17:56'
        message: ''
        version: '8'
    -
        author: Frédéric Vadon
        date: '2011-08-05 17:55'
        message: ''
        version: '7'
    -
        author: Frédéric Vadon
        date: '2011-08-05 17:53'
        message: ''
        version: '6'
    -
        author: Frédéric Vadon
        date: '2011-08-05 17:52'
        message: ''
        version: '5'
    -
        author: Frédéric Vadon
        date: '2011-08-05 17:37'
        message: ''
        version: '4'
    -
        author: Frédéric Vadon
        date: '2011-08-05 17:36'
        message: ''
        version: '3'
    -
        author: Frédéric Vadon
        date: '2011-08-05 16:53'
        message: ''
        version: '2'
    -
        author: Frédéric Vadon
        date: '2011-08-05 16:52'
        message: ''
        version: '1'

---
{{{multiexcerpt 'DeprecatedJSF' page='generic-multi-excerpts'}}}
Users actions are UI elements that the user will use to do an action in the application. It can be a link, an icon, a button. There are different categories of actions, that determine where they are displayed and under which form (button, icon, etc.). Clicking a user action will then trigger an automation chain.

## Adding a Button in the JSF UI

Let's add a new button to approve a document. This button should be displayed with the other icons in the top right corner of a document view. This is the user action category Contextual tools (see the page [Actions Display]({{page page='actions-display'}}) for all categories). When the clicks that icon, the document should change lifecycle state to Approved and its version should be incremented and its description updated with "Hello World".

**To add a new button in the Nuxeo Platform JSF UI:**

1.  In Nuxeo Studio, click on **Automation** > **User Actions**.
2.  Click on **New** and fill in the creation pop-up:
    *   Feature ID: custom_validation_action
    *   Label: Custom Validation
    *   Category: Contextual ToolsThe user action is created. You now need to indicate when it should be available and link it to an automation chain.
3.  Edit the action properties:
    *   Current user has one of the permissions: Edit
    *   Current document has life cycle: project
4.  In the Action execution section, click on the **Create** button to create a new automation chain.

    {{#> callout type='tip' }}

    If you are not already familiar with User Actions and Automation Chains, you might want to take a look at the [How to Create an Automation Chain]({{page page='how-to-create-an-automation-chain'}}) how-to first.

    {{/callout}}
5.  Name the automation chain `custom_validation_chain`.
6.  Build the following chain and save.

    ```
    - Context.FetchDocument
    - Document.SetProperty:
        xpath: "dc:description"
        save: "true"
        value: Hello World
    - Document.CreateVersion:
        increment: Major
        saveDocument: "true"
    - Document.SetLifeCycle:
        value: approve
    - Seam.Refresh
    ```

7.  [Deploy your changes]({{page space='studio' page='deploying-your-project-in-dev-mode'}}) on your Nuxeo Platform.
    Here is the action on a Project document.
    ![]({{file name='custom-validation-action.png'}} ?w=600,border=true)
    And this is the same document after clicking the action.
    ![]({{file name='custom_validation_result.png'}} ?w=600,border=true)

## Adding a Button on the Edit Form

Adding a new button on the Edit form of a document takes the same configuration steps in Nuxeo Studio as in the previous section. The mandatory and specific elements to this use case are described below.

*   On the user action side, you must select the category Document Edition Form.
    ![]({{file name='studio_user_action_categories.png'}} ?w=400,border=true)
*   Your chain must hold the following two mandatory operations:

    ```
    - Seam.GetChangeableDocument
    - Seam.SaveDocumentInUI
    ```

This is what you get after deploying your Studio configuration:

![]({{file name='studio_custom_edit_action.png'}} ?w=600,border=true)

## Adding a Button on the Creation Form

You can also add buttons on the creation form. After you created the user action, create the automation chains and use the operation **UI** > **Create Document in UI**.

If you want to filter the button you are adding to the form only for a specific document type, you can use an advanced filtering condition on the user action:

```
#{navigationContext.getChangeableDocument().getType().equals("myDocumentType")}
```

## Removing the Default Create or Edit Button

You can [contribute an XML extension]({{page page='how-to-contribute-to-an-extension'}}) to remove the default button:

```xml
<extension point="actions" target="org.nuxeo.ecm.platform.actions.ActionService">
  <action id="CREATE_DOCUMENT">
    <filter-id>is_not_creating_for_type_T</filter-id>
  </action>
</extension>

<extension point="filters" target="org.nuxeo.ecm.platform.actions.ActionService">
  <filter id="is_not_creating_for_type_T">
    <rule grant="false">
      <condition>#{navigationContext.getChangeableDocument().getType().equals("T")}</condition>
    </rule>
  </filter>
</extension>
```

* * *

<div class="row" data-equalizer data-equalize-on="medium"><div class="column medium-6">{{#> panel heading='Popular How-Tos'}}

- [How to Hide a Tab, a Link or a Button for a Group or a User]({{page page='how-to-hide-a-tab-a-link-or-a-button-for-a-group-or-a-user'}})
- [How to Make the New Button Appear on a Custom Folderish Document]({{page page='how-to-make-the-new-button-appear-on-a-custom-folderish-document'}})
- [How to Add a New Action Category on a Document Tab]({{page page='how-to-add-a-new-action-category-on-a-document-tab'}})
- [How-To Index]({{page page='how-to-index'}})

{{/panel}}


</div><div class="column medium-6">{{#> panel heading='Related Documentation'}}

- [Standard Action Types]({{page page='standard-action-types'}})
- [How to Create an Automation Chain]({{page page='how-to-create-an-automation-chain'}})
- [User Actions in Nuxeo Studio]({{page space='studio' page='user-actions'}})
- [User actions categories]({{page space='studio' page='user-actions-categories'}})

{{/panel}}</div></div>
