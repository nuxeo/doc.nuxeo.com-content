---
title: Nuxeo Reference Architectures
description: This page details standard architecture options to deploy a Nuxeo cluster.
review:
    status: ok
    comment: ''
    date: '2021-03-11'
labels:
    - lts2016-ok
    - deployment
    - bchauvin
    - cluster
    - architecture
    - lts2017-ok
    - university
    - lts2019-ok
toc: true
confluence:
    ajs-parent-page-id: '3866685'
    ajs-parent-page-title: Installation
    ajs-space-key: NXDOC
    ajs-space-name: Nuxeo Platform Developer Documentation
    canonical: Deployment+Options
    canonical_source: 'https://doc.nuxeo.com/display/NXDOC/Deployment+Options'
    page_id: '950298'
    shortlink: GoAO
    shortlink_source: 'https://doc.nuxeo.com/x/GoAO'
    source_link: /display/NXDOC/Deployment+Options
tree_item_index: 300
version_override:
    LTS 2016: 810/nxdoc/deployment-options
    LTS 2015: 710/nxdoc/deployment-options
    '6.0': 60/nxdoc/deployment-options
history:
    -
        author: Manon Lumeau
        date: '2016-06-09 12:29'
        message: ''
        version: '42'
    -
        author: Thibaud Arguillere
        date: '2016-05-27 19:39'
        message: ''
        version: '41'
    -
        author: Solen Guitter
        date: '2016-03-29 14:15'
        message: Fix title capitalization and typos
        version: '40'
    -
        author: Thibaud Arguillere
        date: '2016-03-22 16:01'
        message: ''
        version: '39'
    -
        author: Solen Guitter
        date: '2015-10-15 13:33'
        message: Update related pages
        version: '38'
    -
        author: Alain Escaffre
        date: '2015-10-13 14:03'
        message: ''
        version: '37'
    -
        author: Solen Guitter
        date: '2014-11-20 10:21'
        message: ''
        version: '36'
    -
        author: Thierry Delprat
        date: '2014-11-19 23:38'
        message: ''
        version: '35'
    -
        author: Thierry Delprat
        date: '2014-11-19 23:37'
        message: ''
        version: '34'
    -
        author: Thierry Delprat
        date: '2014-11-19 23:29'
        message: ''
        version: '33'
    -
        author: Thierry Delprat
        date: '2014-11-19 21:23'
        message: ''
        version: '32'
    -
        author: Thierry Delprat
        date: '2014-11-19 21:03'
        message: ''
        version: '31'
    -
        author: Alain Escaffre
        date: '2014-11-02 15:21'
        message: ''
        version: '30'
    -
        author: Solen Guitter
        date: '2014-09-24 11:20'
        message: merging current page with Data segregation page
        version: '29'
    -
        author: Solen Guitter
        date: '2014-09-19 12:01'
        message: ''
        version: '28'
    -
        author: Solen Guitter
        date: '2014-01-21 18:48'
        message: ''
        version: '27'
    -
        author: Solen Guitter
        date: '2014-01-21 18:48'
        message: Added related topics
        version: '26'
    -
        author: Thierry Delprat
        date: '2014-01-20 19:04'
        message: ''
        version: '25'
    -
        author: Thierry Delprat
        date: '2014-01-20 18:40'
        message: ''
        version: '24'
    -
        author: Thierry Delprat
        date: '2014-01-20 18:09'
        message: ''
        version: '23'
    -
        author: Thierry Delprat
        date: '2014-01-20 16:46'
        message: ''
        version: '22'
    -
        author: Solen Guitter
        date: '2013-12-27 14:41'
        message: ''
        version: '21'
    -
        author: Thierry Delprat
        date: '2013-12-13 11:39'
        message: ''
        version: '20'
    -
        author: Solen Guitter
        date: '2013-10-17 11:17'
        message: ''
        version: '19'
    -
        author: Alain Escaffre
        date: '2013-10-16 01:45'
        message: ''
        version: '18'
    -
        author: Solen Guitter
        date: '2013-09-20 09:51'
        message: Fixed typos
        version: '17'
    -
        author: Alain Escaffre
        date: '2013-09-17 04:06'
        message: ''
        version: '16'
    -
        author: Solen Guitter
        date: '2013-09-04 14:57'
        message: ''
        version: '15'
    -
        author: Solen Guitter
        date: '2013-04-08 14:42'
        message: ''
        version: '14'
    -
        author: Florent Guillaume
        date: '2013-03-30 00:28'
        message: ''
        version: '13'
    -
        author: Solen Guitter
        date: '2012-09-06 15:39'
        message: Migrated to Confluence 4.0
        version: '12'
    -
        author: Solen Guitter
        date: '2012-09-06 15:39'
        message: ''
        version: '11'
    -
        author: Solen Guitter
        date: '2011-01-07 11:19'
        message: added toc
        version: '10'
    -
        author: Solen Guitter
        date: '2011-01-07 11:18'
        message: ''
        version: '9'
    -
        author: Thierry Delprat
        date: '2010-10-19 13:54'
        message: ''
        version: '8'
    -
        author: Thierry Delprat
        date: '2010-10-19 13:49'
        message: ''
        version: '7'
    -
        author: Thierry Delprat
        date: '2010-06-14 12:02'
        message: ''
        version: '6'
    -
        author: Thierry Delprat
        date: '2010-06-14 02:41'
        message: ''
        version: '5'
    -
        author: Thierry Delprat
        date: '2010-06-14 02:38'
        message: ''
        version: '4'
    -
        author: Thierry Delprat
        date: '2010-05-25 12:12'
        message: ''
        version: '3'
    -
        author: Thierry Delprat
        date: '2010-05-24 19:23'
        message: ''
        version: '2'
    -
        author: Admin name placeholder
        date: '2010-03-01 00:55'
        message: ''
        version: '1'
---

## Deployment Options

We will present different Nuxeo reference architectures, from the most compact to the most complex, allowing you to provide a full high availability and fault tolerant Nuxeo architecture. The composition and limitation of each architecture are presented in each case.

{{#> callout type='info'}}
The Nuxeo reference architectures are a starting point to setup your production Nuxeo infrastructure. However, **it remains crucial to test and adjust it** according to the expected volume and workloads, the complexity of your data model, the custom packages deployed on your instance etc.
{{/callout}}

<div class="row" data-equalizer data-equalize-on="medium">
<center>

<div class="column medium-4">
{{#> panel type='secondary' match_height='true'}}
<h3>[Compact Architecture With Redis]({{page version='' space='nxdoc' page='compact-architecture-with-redis'}})<br/><br/>★</h3>
{{/panel}}
</div>

<div class="column medium-4">
{{#> panel type='secondary' match_height='true'}}
<h3>[Compact Architecture With Kafka]({{page version='' space='nxdoc' page='compact-architecture-with-kafka'}})<br/><br/>★★</h3>
{{/panel}}
</div>

<div class="column medium-4">
{{#> panel type='secondary' match_height='true'}}
<h3>[Distributed Architecture with Kafka]({{page version='' space='nxdoc' page='distributed-architecture-with-kafka'}})<br/><br/>★★★</h3>
{{/panel}}
</div>

</center>
</div>

## General Considerations

### Applications on the Same Machine

A frequently asked question is whether some applications can be merged on the same machine or not. The answer is yes! We will show such an option here and explain the design choices.

Let's see how applications can be merged.
- The **load balancers** are usually deployed on separate machines from where the Nuxeo server nodes will be, as otherwise stopping a Nuxeo node could have consequences on serving the requests.
- On the machines where Nuxeo server nodes will be installed, a **reverse proxy** can be installed as well. It is lightweight, and having a reverse proxy for each Nuxeo node makes sense: if it fails for some reason, only the Nuxeo node behind it will be affected.
- **Elasticsearch nodes** have to be installed on dedicated machines for performance reasons. Elasticsearch uses half of the machine's memory for its heap and half for the system, and is not designed to share memory with another application using the JVM.
- **Kafka cluster** is better on dedicated machines for isolation purpose.
- A **Zookeeper node** is a lightweight, component and can be installed on the Nuxeo nodes.
- **Redis**, if used, can be installed on the same machine as Nuxeo server: our Redis usage is usually low enough for that.

### Deploying in Cloud or Container Based Deployment

This diagram translates perfectly to an on-premise deployment using a container-based technology like docker and we provide a ready-to-use [docker image]({{page version='' space='nxdoc' page='setting-up-your-nuxeo-environment'}}#docker) for Nuxeo Server.

Nuxeo Platform also makes it easy to deploy in the Cloud since:
- We are standard-based,
- The pluggable component model (extension points) allows you to easily change backend implementation when needed.

For example, considering Amazon AWS as a possible Cloud infrastructure provider:

![]({{file name='aws-deployment.png'}} ?border=true)
<!-- Source: https://www.lucidchart.com/documents/edit/0eb7242e-9a34-4d1f-8568-9682f8ab26a8 -->

- The AWS ELB would be used for load balancing.
- EC2 instances can be used for Elasticsearch cluster nodes too. The Amazon ElasticCache service does not provide the required APIs at this point to allow us to have a completely managed cluster.
- Amazon ElasticCache can be used for a managed Redis cluster. Another option is to have a cluster hosted and managed by RedisLabs.
- Amazon Managed Streaming for Kafka ([MSK](https://aws.amazon.com/msk/)) is an option for Kafka if it is available in your AWS region.
- Database can be handled through Amazon RDS, this is a native plug as there is nothing specific to Amazon in this case. MongoDB Atlas is also an option for a hosted MongoDB cluster.
- An Amazon S3 bucket can be used for replicated file storage. Our BinaryManager is pluggable and we use it to leverage the S3 Storage capabilities.

The same idea is true for all the Cloud specific services like provisioning and monitoring. We try to provide everything so that the deployment in the target IaaS is easy and painless:

- Nuxeo is packaged (among other options) as Debian packages or a docker image:
    - We can easily setup Nuxeo on top of Amazon Machine Images
    - We can use CloudFormation and we provide a template for it
- Nuxeo exposes its metrics via JMX:
    - CloudWatch can monitor Nuxeo
    - We can use autoscaling



* * *

<div class="row" data-equalizer data-equalize-on="medium"><div class="column medium-6">{{#> panel heading='Next Steps'}}

- [Scale your Nuxeo cluster]({{page page='nuxeo-scalability-options'}})

{{/panel}}</div><div class="column medium-6">{{#> panel heading='Related Documentation'}}

- [Nuxeo Architecture Components - Configuration]({{page page='nuxeo-architecture-components'}})
- [Elasticsearch Setup]({{page page='elasticsearch-setup'}})
- [Redis Configuration]({{page page='redis-configuration'}})
- [HTTP and HTTPS Reverse-Proxy Configuration]({{page page='http-and-https-reverse-proxy-configuration'}})

{{/panel}}</div></div>
