---
title: 'HOWTO: Define a New Content View - JSF UI'
review:
    comment: ''
    date: '2016-12-19'
    status: ok
notes: Documentation page used on Nuxeo Studio. Check with NOS team before deleting or moving.
details:
    howto:
        excerpt: Learn how to configure a new content view with Nuxeo Studio.
        level: Beginner
        tool: Studio
        topics: Content View
labels:
    - lts2016-ok
    - content-view
    - atchertchian
    - howto
    - studio
    - content-review-lts2017
    - jsf-ui
toc: true
confluence:
    ajs-parent-page-id: '19235663'
    ajs-parent-page-title: Content View How-To Index
    ajs-space-key: NXDOC
    ajs-space-name: Nuxeo Platform Developer Documentation
    canonical: How+to+Define+a+New+Content+View
    canonical_source: 'https://doc.nuxeo.com/display/NXDOC/How+to+Define+a+New+Content+View'
    page_id: '4689374'
    shortlink: 3o1H
    shortlink_source: 'https://doc.nuxeo.com/x/3o1H'
    source_link: /display/NXDOC/How+to+Define+a+New+Content+View
tree_item_index: 100
history:
    -
        author: Manon Lumeau
        date: '2016-08-26 13:24'
        message: ''
        version: '66'
    -
        author: Manon Lumeau
        date: '2016-08-26 13:22'
        message: ''
        version: '65'
    -
        author: Manon Lumeau
        date: '2016-06-09 15:41'
        message: ''
        version: '64'
    -
        author: Manon Lumeau
        date: '2016-04-27 13:33'
        message: ''
        version: '63'
    -
        author: Manon Lumeau
        date: '2016-04-27 13:32'
        message: ''
        version: '62'
    -
        author: Michael Gena
        date: '2016-04-26 09:05'
        message: ''
        version: '61'
    -
        author: Michael Gena
        date: '2016-04-26 08:57'
        message: ''
        version: '60'
    -
        author: Manon Lumeau
        date: '2015-12-02 13:11'
        message: ''
        version: '59'
    -
        author: Manon Lumeau
        date: '2015-12-01 17:15'
        message: ''
        version: '58'
    -
        author: Manon Lumeau
        date: '2015-12-01 17:08'
        message: ''
        version: '57'
    -
        author: Solen Guitter
        date: '2015-10-12 20:04'
        message: Migration of unmigrated content due to installation of a new plugin
        version: '56'
    -
        author: Solen Guitter
        date: '2015-10-12 20:04'
        message: Remove links to deprecated pages
        version: '55'
    -
        author: Solen Guitter
        date: '2015-02-02 17:09'
        message: Migration of unmigrated content due to installation of a new plugin
        version: '54'
    -
        author: Solen Guitter
        date: '2015-02-02 17:09'
        message: Migration of unmigrated content due to installation of a new plugin
        version: '53'
    -
        author: Solen Guitter
        date: '2015-02-02 17:09'
        message: change level to beginner
        version: '52'
    -
        author: Solen Guitter
        date: '2015-01-26 17:06'
        message: link update
        version: '51'
    -
        author: Solen Guitter
        date: '2014-12-01 22:20'
        message: Migration of unmigrated content due to installation of a new plugin
        version: '50'
    -
        author: Solen Guitter
        date: '2014-12-01 22:20'
        message: Migration of unmigrated content due to installation of a new plugin
        version: '49'
    -
        author: Solen Guitter
        date: '2014-12-01 22:20'
        message: ''
        version: '48'
    -
        author: Solen Guitter
        date: '2014-10-27 17:31'
        message: ''
        version: '47'
    -
        author: Solen Guitter
        date: '2014-10-27 17:31'
        message: ''
        version: '46'
    -
        author: Solen Guitter
        date: '2014-10-21 13:58'
        message: ''
        version: '45'
    -
        author: Manon Lumeau
        date: '2014-09-15 17:34'
        message: ''
        version: '44'
    -
        author: Manon Lumeau
        date: '2014-09-15 15:30'
        message: ''
        version: '43'
    -
        author: Alain Escaffre
        date: '2014-07-23 17:08'
        message: Migration of unmigrated content due to installation of a new plugin
        version: '42'
    -
        author: Alain Escaffre
        date: '2014-07-23 17:08'
        message: ''
        version: '41'
    -
        author: Alain Escaffre
        date: '2014-07-23 17:08'
        message: ''
        version: '40'
    -
        author: Solen Guitter
        date: '2014-06-12 15:35'
        message: ''
        version: '39'
    -
        author: Michaël Vachette
        date: '2014-04-22 09:32'
        message: ''
        version: '38'
    -
        author: Michaël Vachette
        date: '2014-04-22 09:32'
        message: ''
        version: '37'
    -
        author: Michaël Vachette
        date: '2014-04-22 09:30'
        message: ''
        version: '36'
    -
        author: Michaël Vachette
        date: '2014-04-22 09:29'
        message: ''
        version: '35'
    -
        author: Michaël Vachette
        date: '2014-04-22 09:25'
        message: ''
        version: '34'
    -
        author: Solen Guitter
        date: '2014-03-10 17:59'
        message: ''
        version: '33'
    -
        author: Solen Guitter
        date: '2013-09-02 15:02'
        message: Migration of unmigrated content due to installation of a new plugin
        version: '32'
    -
        author: Solen Guitter
        date: '2013-09-02 15:02'
        message: ''
        version: '31'
    -
        author: Solen Guitter
        date: '2013-08-29 17:23'
        message: Migration of unmigrated content due to installation of a new plugin
        version: '30'
    -
        author: Solen Guitter
        date: '2013-08-29 17:23'
        message: ''
        version: '29'
    -
        author: Solen Guitter
        date: '2013-08-29 17:23'
        message: Fixed broken video and some formatting
        version: '28'
    -
        author: Solen Guitter
        date: '2011-09-06 15:56'
        message: Migration of unmigrated content due to installation of a new plugin
        version: '27'
    -
        author: Solen Guitter
        date: '2011-09-06 15:56'
        message: Migration of unmigrated content due to installation of a new plugin
        version: '26'
    -
        author: Solen Guitter
        date: '2011-09-06 15:56'
        message: Migration of unmigrated content due to installation of a new plugin
        version: '25'
    -
        author: Solen Guitter
        date: '2011-09-06 15:56'
        message: Migrated to Confluence 4.0
        version: '24'
    -
        author: Solen Guitter
        date: '2011-09-06 15:56'
        message: ''
        version: '23'
    -
        author: Solen Guitter
        date: '2011-09-02 17:28'
        message: added related howtos
        version: '22'
    -
        author: Alain Escaffre
        date: '2011-08-30 01:29'
        message: ''
        version: '21'
    -
        author: Alain Escaffre
        date: '2011-08-30 01:28'
        message: ''
        version: '20'
    -
        author: Frédéric Vadon
        date: '2011-08-16 18:38'
        message: ''
        version: '19'
    -
        author: Solen Guitter
        date: '2011-08-06 00:56'
        message: ''
        version: '18'
    -
        author: Solen Guitter
        date: '2011-07-11 11:20'
        message: ''
        version: '17'
    -
        author: Solen Guitter
        date: '2011-07-05 16:06'
        message: ''
        version: '16'
    -
        author: Solen Guitter
        date: '2011-07-05 15:55'
        message: ''
        version: '15'
    -
        author: Solen Guitter
        date: '2011-07-05 15:52'
        message: ''
        version: '14'
    -
        author: Solen Guitter
        date: '2011-06-30 14:20'
        message: ''
        version: '13'
    -
        author: Solen Guitter
        date: '2011-05-17 10:25'
        message: added content view example screencast
        version: '12'
    -
        author: Alain Escaffre
        date: '2011-02-11 06:57'
        message: ''
        version: '11'
    -
        author: Alain Escaffre
        date: '2011-02-11 06:54'
        message: ''
        version: '10'
    -
        author: Alain Escaffre
        date: '2011-01-23 16:07'
        message: ''
        version: '9'
    -
        author: Solen Guitter
        date: '2011-01-18 17:17'
        message: ''
        version: '8'
    -
        author: Solen Guitter
        date: '2011-01-18 17:12'
        message: added query filter information
        version: '7'
    -
        author: Solen Guitter
        date: '2011-01-18 16:05'
        message: ''
        version: '6'
    -
        author: Solen Guitter
        date: '2011-01-18 16:04'
        message: ''
        version: '5'
    -
        author: Solen Guitter
        date: '2011-01-18 15:54'
        message: ''
        version: '4'
    -
        author: Alain Escaffre
        date: '2011-01-14 09:04'
        message: ''
        version: '3'
    -
        author: Solen Guitter
        date: '2011-01-13 18:08'
        message: ''
        version: '2'
    -
        author: Solen Guitter
        date: '2011-01-12 18:13'
        message: ''
        version: '1'

---
{{{multiexcerpt 'JSF-UI-required' page='generic-multi-excerpts'}}}

{{! excerpt}}
A content view is the definition of a list of documents displayed in the interface. The lists of documents displayed in the UI are the results of a query which you can customize and the definition of the information displayed on the documents. In Nuxeo applications, content views are used in most cases when there is a list of content.

{{! /excerpt}}

{{#> callout type='info' }}
{{! multiexcerpt name='check-jsf-ui-dependency'}}
Make sure that the Nuxeo JSF UI target package is checked in your project's [Application Definition]({{page space='studio' page='application-definition'}}) to get all the needed features in Nuxeo Studio.
{{! /multiexcerpt}}
{{/callout}}

For example:

*   to display the content listing of folderish document types (Workspace, Section, Folder...),
*   in the virtual navigation views,
*   to display the advanced search results,
*   for additional document listing that you can now configure and add as a tab on any document type.

A content view definition form is composed of two parts:

*   **Query and form** tab: Define the query that will be run to filter the content listing. You can also define a filter that will enable the user to filter the results of your query.
*   **Results** tab: Design the table of results and the sorting options.
*   **Enablement** tab: Configure the conditions for which the search filter will be displayed to the user.

    {{#> callout type='info' }}

    The Enablement tab will be displayed only if you select the flag "Search content view" on the Query & form tab of your content view.

    {{/callout}}

Designing a new content view takes three steps:

1.  [Defining the filter query](#set-query-filter)
2.  [Defining the form for user to input additional filtering](#define-filter-form)
3.  [Defining the results table](#configure-result-layout)

## {{> anchor 'set-query-filter'}}Set Your Query Filter

You can define the query that will be executed to filter the content repository and display only the documents relevant in the current repository. The query uses [NXQL, the Nuxeo Query Language]({{page page='nxql'}}), an SQL-like query language.

When configuring a content view in Studio, a default query filter is already filled in. You can complete it with more conditions (or totally modify it if you know what you're doing). This default query filter is:

```sql
ecm:mixinType != 'HiddenInNavigation' AND ecm:isVersion = 0 AND ecm:isTrashed = 0
```

This filter:

*   excludes from search results the documents supposed to be hidden in navigation (`ecm:mixinType != 'HiddenInNavigation'`),
*   excludes the documents who are in the trash (`ecm:isTrashed = 0`),
*   and sets that only the current version of the document should be displayed (`ecm:isVersion = 0`) so as to avoid displaying all versions of a same document in the search result.

You can add as many filter criteria as you need. If the criterion is fixed, such as a specific lifecycle state or author, you just need to add your filter criterion at the end of the default query filter. For example, you could add a criterion saying that you want to exclude documents created by Administrator from the results:

```sql
ecm:mixinType != 'HiddenInNavigation' AND ecm:isVersion = 0 AND ecm:isTrashed = 0 AND dc:creator != 'Administrator'
```

If the criterion is not a fixed value but depends on the context of the document, you should put "?" as a value and add a query parameter. For example, if you want to display only the document created by the current user:

1.  Add `dc:creator = ?` (or `dc:creator IN (?)` with multivalued parameters) in the query filter.
2.  Add a query parameter with value: `#{currentUser.name}`.

{{#> callout type='tip' }}

When your query filter has several "?" parameters, you must add the query parameters in the same order as the criteria in the query filter.

![]({{file name='STUDIO-query-filter.png'}} ?w=600,border=true)

{{/callout}}

Note for those already familiar with Nuxeo product customization: the syntax used in these parameters is the same EL syntax used in XHTML files. You have access to the SEAM context.
Other sample expressions:

*   `#{currentDate.toString()}`: that can be used with date properties, like `dc:created > DATE ?`
*   `#{currentDocument.dc.rights}`
*   `#{empty currentDocument.getProperty("dublincore","subjects") ? '%' : currentDocument.getProperty( ("dublincore","subjects" )}` for multivalued properties
*   `#{empty currentDocument.collection.documentIds ? '%' : currentDocument.collection.documentIds}` to get the content of a collection. In this case the Query filter should be something like ... `AND ecm:uuid IN (?)`

More information on NXQL and examples are available on the [NXQL dedicated page]({{page page='nxql'}}).

## {{> anchor 'define-filter-form'}}Define the Filter Form

You can set a filter form that can be used:

*   to [define a search filter]({{page page='how-to-configure-a-search-filter-with-facets-and-other-aggregates'}}), that will be displayed in the Search tab of your application,
*   to filter the content of the folder.

**To design the filter form:**

1.  Check the **Document Content** box if you want to create a filter form displayed on top of content table.

    {{! multiexcerpt name='filter_form_creation'}}
    1.  Set the number of columns and rows using the **Add column**, **Add row** or **Set Table Size** buttons.
    2.  Drag and drop the widget corresponding to the criterion you want to display from the widget list into an empty table cell. ![]({{file name='STUDIO_drop_search_field.png'}} ?w=550,border=true)
        The widget is added in the content cell.
    3.  Click on the icon ![]({{file name='editor_area.gif' space='studio' page='studio-icons-index'}}) to edit the widget and edit the search field's label, search operator, sort criterion, etc.
        ![]({{file name='STUDIO_widget_search_operator_edition.png'}} ?w=350,border=true)
    4.  When done editing, click on the *Save* button.
    5.  Repeat these steps until your form is complete.{{! /multiexcerpt}}
2.  Click on the **Save** button to save your changes.

## {{> anchor 'configure-result-layout'}}Configure the Result Layout

Search results and content listings are presented in a table. You can configure the columns as well as the information on the documents that will be displayed in your content view.

**To configure a result layout:**

1.  Go on the **Results** tab.
2.  Set the results parameters you want to be applied (see below for more information on the results parameters).
    ![]({{file name='STUDIO-LayoutParameters.png'}} ?w=350,h=294,border=true)
3.  Define the information that will be displayed to users in the result table:
    *  Set the number of columns and rows using the **Add Row**, **Add Column** or **Set Table Size** button.
        The blue first row of the table is the columns title row.
    *  Drag and drop the widget corresponding to the information you want to display from the widget list into an empty table cell.
        The widget is added in the content cell. It is also automatically added in the title cell.
        ![]({{file name='STUDIO-tableConfiguration.png'}} ?w=650,h=164,border=true)
    *  Edit the title widget by clicking on the icon ![]({{file name='editor_area.gif' space='studio' page='studio-icons-index'}}) in the first row. You will also have to enter the sort criterion that will be used for that column.
    *  Edit the widget information itself by clicking on the icon ![]({{file name='editor_area.gif' space='studio' page='studio-icons-index'}}) on the second row.
    *  Repeat for each widget you want to drop.

        {{#> callout type='tip' }}

        You can also add multiple rows: one result line is layered on various real lines in the result table, although this is not a very common use case.

        {{/callout}} {{#> callout type='tip' }}

        If you are editing the advanced search results layout, repeat these steps for the additional results columns that users are able to select.

        {{/callout}}
4.  When you have configured your default columns and the additional columns, click **Save**.

**Results parameters**

The first part of the result configuration form is dedicated to setting up some general parameters about the results that will be displayed.

<div class="table-scroll">
  <table class="hover">
    <tbody>
      <tr>
        <th colspan="1">Parameter</th>
        <th colspan="1">Description</th>
      </tr>
      <tr>
        <td colspan="1">Title</td>
        <td colspan="1">
         The title that is displayed on the page or when exporting the content view results.
        </td>
      </tr>
      <tr>
        <td colspan="1">Translate title</td>
        <td colspan="1">
          Check this if the title is a message that needs to be translated.
        </td>
      </tr>
      <tr>
        <td colspan="1">Empty sentence</td>
        <td colspan="1">
          The sentence displayed when there are no results.
        </td>
      </tr>
      <tr>
        <td colspan="1">Translate empty sentence</td>
        <td colspan="1">
          Check this if the sentence displayed when there are no results is a message that needs to be translated.
        </td>
      </tr>
      <tr>
        <td colspan="1">Number of results per page</td>
        <td colspan="1">Indicate how many documents should be displayed on a page.</td>
      </tr>
      <tr>
        <td colspan="1">Enable the user to edit displayed column</td>
        <td colspan="1">Indicate if the user can edit what column should be displayed from this view.</td>
      </tr>
      <tr>
        <td colspan="1">Enable spreadsheet action</td>
        <td colspan="1">Indicate if the Spreadsheet action (if the addon is installed) should be displayed from this view.</td>
      </tr>
      <tr>
        <td colspan="1">Enable common actions</td>
        <td colspan="1">Indicate if the default document list toolbar (buttons Copy, Paste, Delete...) should be displayed from this view.</td>
      </tr>
      <tr>
        <td colspan="1">Enable additional actions</td>
        <td colspan="1">
          You can define new buttons or actions that will be displayed next to the default document list toolbar: Click **Create a new action** to define [a new user action (button, icon or link)]({{page page='actions-links-buttons-icons-tabs-and-more'}}) to be displayed below the list of documents.
        </td>
      </tr>
    </tbody>
  </table>
</div>

## Use The Content View

There are several ways of using the content view you configured in your Nuxeo Platform application:

*   In the [search tab]({{page space='nxdoc' page='searching-the-nuxeo-platform'}}) feature,  so as to add a new filter set. You just need to click on the **Search content view** checkbox, in the **Flag** section of the Query & form tab of your content view in Studio.
*   In any [custom tab]({{page space='studio' page='tabs'}}), using the Content View widget.

* * *

<div class="row" data-equalizer data-equalize-on="medium">
<div class="column medium-6">
{{#> panel heading='Related How-tos'}}

- [How to Add a New Virtual Navigation Entry]({{page page='how-to-add-a-new-virtual-navigation-entry'}})
- [How to Customize the Default Content and Trash Listings]({{page page='how-to-customize-the-default-content-and-trash-listings'}})
- [How-To Index]({{page page='how-to-index'}})

{{/panel}}
</div>

<div class="column medium-6">
{{#> panel heading='Related Documentation'}}

- [Content Views ]({{page page='content-views'}})
- [Content Views in Studio Documentation]({{page space='studio' page='content-views'}})
- [Custom Page Providers]({{page page='custom-page-providers'}})
- [Documents Display Configuration]({{page page='documents-display-configuration'}})
- [Default Search]({{page space='nxdoc' page='default-search'}})

{{/panel}}
</div>
</div>
