---
title: Nuxeo Live Connect
review:
  comment: ''
  date: '2017-12-15'
  status: ok
labels:
  - lts2016-ok
  - live-connect-component
  - kleturc
  - university
  - lts2017-ok
toc: true
confluence:
  ajs-parent-page-id: '16089349'
  ajs-parent-page-title: Nuxeo Add-Ons
  ajs-space-key: NXDOC
  ajs-space-name: Nuxeo Platform Developer Documentation
  canonical: Nuxeo+Live+Connect
  canonical_source: 'https://doc.nuxeo.com/display/NXDOC/Nuxeo+Live+Connect'
  page_id: '25690898'
  shortlink: EgOIAQ
  shortlink_source: 'https://doc.nuxeo.com/x/EgOIAQ'
  source_link: /display/NXDOC/Nuxeo+Live+Connect
tree_item_index: 2100
history:
  - author: Solen Guitter
    date: '2016-09-05 12:10'
    message: ''
    version: '55'
  - author: Anne Jubert
    date: '2016-06-24 13:05'
    message: ''
    version: '54'
  - author: Manon Lumeau
    date: '2016-06-09 13:06'
    message: ''
    version: '53'
  - author: Solen Guitter
    date: '2016-05-30 15:58'
    message: Add min required version of Nuxeo Platform for OneDrive
    version: '52'
  - author: Solen Guitter
    date: '2016-04-21 14:33'
    message: Merge notes about HTTP / HTTPS Box support
    version: '51'
  - author: Solen Guitter
    date: '2016-04-21 13:40'
    message: Add note about Box allowing only https
    version: '50'
  - author: Manon Lumeau
    date: '2016-04-14 10:19'
    message: Fix images border
    version: '49'
  - author: Manon Lumeau
    date: '2016-04-14 10:12'
    message: ''
    version: '48'
  - author: Solen Guitter
    date: '2016-03-04 15:01'
    message: ''
    version: '47'
  - author: Solen Guitter
    date: '2016-03-04 15:00'
    message: ''
    version: '46'
  - author: Kevin Leturc
    date: '2016-03-03 13:37'
    message: ''
    version: '45'
  - author: Kevin Leturc
    date: '2016-03-02 16:50'
    message: ''
    version: '44'
  - author: Kevin Leturc
    date: '2016-03-02 14:44'
    message: ''
    version: '43'
  - author: Kevin Leturc
    date: '2016-03-02 14:02'
    message: ''
    version: '42'
  - author: Kevin Leturc
    date: '2016-01-11 17:01'
    message: ''
    version: '41'
  - author: Kevin Leturc
    date: '2016-01-11 15:58'
    message: ''
    version: '40'
  - author: Kevin Leturc
    date: '2016-01-11 15:49'
    message: ''
    version: '39'
  - author: Solen Guitter
    date: '2016-01-11 14:34'
    message: Fix duplicated content
    version: '38'
  - author: MichaÃ«l Vachette
    date: '2015-12-11 17:28'
    message: ''
    version: '37'
  - author: Bertrand Chauvin
    date: '2015-12-03 15:51'
    message: Add link to video course
    version: '36'
  - author: Bertrand Chauvin
    date: '2015-11-18 11:11'
    message: formatting
    version: '35'
  - author: Bertrand Chauvin
    date: '2015-11-18 11:10'
    message: formatting
    version: '34'
  - author: Bertrand Chauvin
    date: '2015-11-18 11:10'
    message: Added video
    version: '33'
  - author: Arnaud Kervern
    date: '2015-10-27 16:21'
    message: ''
    version: '32'
  - author: Arnaud Kervern
    date: '2015-10-27 16:20'
    message: ''
    version: '31'
  - author: Anahide Tchertchian
    date: '2015-10-05 15:23'
    message: cosmit
    version: '30'
  - author: Anahide Tchertchian
    date: '2015-10-05 15:22'
    message: cosmit
    version: '29'
  - author: Anahide Tchertchian
    date: '2015-10-05 15:22'
    message: follow google drive ui changes
    version: '28'
  - author: Joshua Fletcher
    date: '2015-09-17 22:48'
    message: Clarify field mapping.
    version: '27'
  - author: Joshua Fletcher
    date: '2015-09-17 22:45'
    message: 'Add missing step for Dropbox configuration, add note about SSL requirement.'
    version: '26'
  - author: Nelson Silva
    date: '2015-08-24 10:28'
    message: ''
    version: '25'
  - author: Nelson Silva
    date: '2015-07-08 08:26'
    message: Added synchronization scheduler configuration notes
    version: '24'
  - author: Joshua Fletcher
    date: '2015-07-01 17:28'
    message: typos
    version: '23'
  - author: Manon Lumeau
    date: '2015-07-01 08:11'
    message: ''
    version: '22'
  - author: Manon Lumeau
    date: '2015-07-01 08:11'
    message: ''
    version: '21'
  - author: Manon Lumeau
    date: '2015-06-30 14:53'
    message: ''
    version: '20'
  - author: Joshua Fletcher
    date: '2015-06-29 20:17'
    message: typo
    version: '19'
  - author: Manon Lumeau
    date: '2015-06-29 14:53'
    message: ''
    version: '18'
  - author: Solen Guitter
    date: '2015-06-24 14:34'
    message: ''
    version: '17'
  - author: Solen Guitter
    date: '2015-06-24 14:14'
    message: ''
    version: '16'
  - author: Solen Guitter
    date: '2015-06-24 13:21'
    message: Update feature table
    version: '15'
  - author: Solen Guitter
    date: '2015-06-24 13:15'
    message: Add functional overview for Google Drive
    version: '14'
  - author: Solen Guitter
    date: '2015-06-24 12:17'
    message: Add Dropbox set up steps
    version: '13'
  - author: Solen Guitter
    date: '2015-06-23 10:02'
    message: ''
    version: '12'
  - author: Solen Guitter
    date: '2015-06-22 15:51'
    message: ''
    version: '11'
  - author: Alain Escaffre
    date: '2015-06-19 17:19'
    message: ''
    version: '10'
  - author: Alain Escaffre
    date: '2015-06-19 17:17'
    message: ''
    version: '9'
  - author: Alain Escaffre
    date: '2015-06-19 17:12'
    message: ''
    version: '8'
  - author: Alain Escaffre
    date: '2015-06-19 17:11'
    message: ''
    version: '7'
  - author: Alain Escaffre
    date: '2015-06-19 17:10'
    message: ''
    version: '6'
  - author: Alain Escaffre
    date: '2015-06-19 17:02'
    message: ''
    version: '5'
  - author: Alain Escaffre
    date: '2015-06-19 16:59'
    message: ''
    version: '4'
  - author: Alain Escaffre
    date: '2015-06-19 16:54'
    message: ''
    version: '3'
  - author: Alain Escaffre
    date: '2015-06-19 16:53'
    message: ''
    version: '2'
  - author: Alain Escaffre
    date: '2015-06-19 16:40'
    message: ''
    version: '1'
---

{{#> callout type='tip'}}
Follow the related [video course and exercises](https://university.nuxeo.com/learn/public/course/view/elearning/55/whats-new-in-nuxeo-platform-lts-2015) on Nuxeo University.
{{/callout}}

Live Connect allows you to create a content application that handles cloud files (Dropbox, Google Drive, Box, OneDrive...) as if they were local files. Files remain in the cloud but they are referenced in the Nuxeo repository as if they were stored within it. This allows the user to benefit from thumbnailing service, full text, conversions, etc.

Live Connect for Google Drive also brings the "Cloud Edit" mode. Your application based on the Nuxeo Platform can provide the users with a direct link to the SaaS applications that you can use for editing Google Drive files (Google Docs, Office 365, Pixlr, etc.).

Live Connect is designed to allow many implementations. Default implementations are:

- Live Connect for Google Drive
- Live Connect for Dropbox
- Live Connect for Box
- Live Connect for OneDrive & OneDrive for Business (since Nuxeo Platform 8.2)

## Live Connect Features

Live Connect provides a set of features described below.

- **File download**: File download is made by redirecting the user's browser to the native download URL of the considered backend.
- **Full-text indexation**: The text of the content is extracted and sent to the Elasticsearch index so as to be able to perform native Nuxeo Platform search using NXQL and standard search screens of the UI.
- **File conversion in PDF**, using the provider's conversion system: When a PDF conversion is asked for a Live Connect file, the user's browser is redirected to the provider's direct URL for getting the PDF version.
- **File preview**, using native provider's preview.
- **Thumbnail generation**, using provider's thumbnail.
- **Apps link**: Links that can be used to edit the file in the cloud.
- **Update of the document**: If a document is updated on the backend, the reference will be updated (full-text index, thumbnail, filename...)
- **Native versioning**: When a version of the document is created in the Nuxeo Platform, a versioning order is sent to the backend so as to make a version of the file on the backend and make sure to be able to get back the file in the future.

Depending on the backend capabilities of the provider, not all features are available.

{{! /excerpt}}

The table below shows the available features for each default implementation.

<div class="table-scroll">
<table class="hover">
<tbody>
<tr>
<th colspan="1">Feature</th>
<th colspan="1">Available for Google Drive</th>
<th colspan="1">Available for Dropbox</th>
<th colspan="1">Available for Box</th>
<th colspan="1">Available for OneDrive</th>
</tr>
<tr>
<td colspan="1">Download URL</td>
<td colspan="1">Yes</td>
<td colspan="1">Yes<sup>*</sup></td>
<td colspan="1">Yes</td>
<td colspan="1">Yes</td>
</tr>
<tr>
<td colspan="1">Full-text indexation</td>
<td colspan="1">Yes</td>
<td colspan="1">Yes<sup>*</sup>
</td>
<td colspan="1">Yes</td>
<td colspan="1">Yes</td>
</tr>
<tr>
<td colspan="1">PDF conversion</td>
<td colspan="1">Yes</td>
<td colspan="1">Yes<sup>*</sup>
</td>
<td colspan="1">Yes<sup>*</sup>
</td>
<td colspan="1">Yes<sup>*</sup>
</td>
</tr>
<tr>
<td colspan="1">Preview</td>
<td colspan="1">Yes</td>
<td colspan="1">Yes<sup>*</sup>
</td>
<td colspan="1">Yes</td>
<td colspan="1">Yes<sup>*</sup>
</td>
</tr>
<tr>
<td colspan="1">Thumbnail</td>
<td colspan="1">Yes</td>
<td colspan="1">Yes</td>
<td colspan="1">Yes</td>
<td colspan="1">Yes</td>
</tr>
<tr>
<td colspan="1">Link to cloud app</td>
<td colspan="1">Yes</td>
<td colspan="1">No</td>
<td colspan="1">No</td>
<td colspan="1">Yes</td>
</tr>
<tr>
<td colspan="1">Versioning</td>
<td colspan="1">Yes (non-native Google Drive documents)</td>
<td colspan="1">Yes<sup>*</sup>
</td>
<td colspan="1">Yes</td>
<td colspan="1">Yes<sup>*</sup>
</td>
</tr>
<tr>
<td colspan="1">Update of the document</td>
<td colspan="1">Yes</td>
<td colspan="1">Yes</td>
<td colspan="1">Yes</td>
<td colspan="1">Yes</td>
</tr></tbody></table></div>

<sup>\*</sup> _Provided by the Nuxeo Platform_

## Functional Overview

### Creating New Live Connect Documents

The Live Connect Upload action is available for the following Nuxeo document types:

- File
- Picture
- Video
- Audio

On the document creation form, a button with the provider name enables you to browse your content and select a document stored there.

#### Web UI

![]({{file name='LiveConnect-file-creation-webui.png'}} ?w=500,border=true)

#### JSF UI

![]({{file name='8.2_LiveConnect_file_creation.png'}} ?w=500,h=366,border=true)

### Editing Content

For some provider on some file, you can edit document stored on your provider using its native application.

For example, Google Drive provides Google docs, Pixlr... for its native documents type.
Native documents stored on Google Drive can be edited using the native Google Drive application: Google docs, Pixlr, etc.

![]({{file name='7.3_LiveConnect_GoogleDrive.png'}} ?w=500,border=true)

### Browsing and Searching Content

Live Connect documents can be searched in the Nuxeo Platform like any other document: their content is indexed in the platform, as well as their metadata. They are displayed in search results like a Nuxeo document. Their thumbnail is provided by the provider (when feature is available).

## Configuration

### Setting Up Live Connect for Google Drive

**Step 1: Preparing your application accounts on the Google developer console**

1.  Go to [https://console.developers.google.com/apis/dashboard](https://console.developers.google.com/apis/dashboard).
2.  On the right of Google APIs logo, click on selector in order to create a new project
3.  Enable Drive API: In **Library** > **Google Apps APIs** click on **Drive API** and then on the **Enable** button at the top of the page.
4.  Edit your consent screen: In **API Manager** > **Credentials** click on **OAuth consent Screen**, fill the product name (the name of your application). You can also upload a logo, etc. This is what is displayed when the user authenticates through Google.
5.  Create a new OAuth Client ID: In **APIs & auth** > **Credentials** click on **Create credentials** and select **OAuth client ID**.

    - Choose **Web Application**.
    - For **Authorized JavaScript origins** set the URL of your server. Ex: [http://localhost:8080](http://localhost:8080/)
    - For **Authorized redirect URIs** set the following URL, adapting the hostname and port to your case: `http://NUXEO_SERVER/nuxeo/site/oauth2/googledrive/callback`

The console redirects you to a page where you can see the client id and secret id values. You will need them in the next steps.

**Step 2: Configuring the Nuxeo Platform**

1.  Install the package [Nuxeo Live Connect](https://connect.nuxeo.com/nuxeo/site/marketplace/package/nuxeo-liveconnect) if it is not already installed.
2.  In the **Administration**, go to **Cloud Services** > **Service providers**.
3.  In the **OAuth2 Service providers** section, click on the **Modify** button of the **googledrive** service provider.
4.  Set the client id and client secret values with the one you got on the previous step.
5.  Make sure the **Enabled** box is checked.
6.  Save.
7.  Now just create a new Google Drive document

You are ready to use it, just go in the workspace section and create a file object: you can use the Google Drive file picker.

{{#> callout type='note' }}
To use the Google Drive file picker with Internet Explorer 11, the following URL must be added to IE11's trusted sites
zone: https://accounts.google.com.
{{/callout}}

### Setting Up Live Connect for Dropbox

**Step 1: Preparing your application accounts on the Dropbox App console**

1.  Go to [https://www.dropbox.com/developers/apps](https://www.dropbox.com/developers/apps).
1.  Click on **Create app**.
1.  Select **Dropbox API**.
1.  Select the permission Type **Full Dropbox**.

    {{#> callout type='info' }}
    The **App folder** permission won't work due to limitations in Dropbox API.
    {{/callout}}

1.  Enter the name of your application.
1.  Click on the button **Create app**.
1.  From the **Settings** tab, copy the App key and App secret.
1.  In the **OAuth 2** > **Redirect URIs** set the following URL, adapting the hostname and port to your case: `http://NUXEO_SERVER/nuxeo/site/oauth2/dropbox/callback`.

    {{#> callout type='info' }}
    Please note that Dropbox only allows http for localhost. For all other sites https must be used. See [HTTP and HTTPS Reverse-Proxy Configuration](/x/GAFc).
    {{/callout}}

1.  Fill in your **Chooser/Saver domains** with your domain name.

{{#> callout type='info' }}
To enable additional users on your application, go to **Settings** > **Development users** and click on **Enable additional users.**
{{/callout}}

**Step 2: Configuring the Nuxeo Platform**

1.  Install the package Nuxeo Live Connect if it is not already installed.
2.  In the **Administration**, go to **Cloud Services** > **Service providers**.
3.  In the **OAuth2 Service providers** section click on the **Modify** button of the **dropbox** service provider.
4.  Paste the Dropbox App key in **ClientID**.
5.  Paste the Dropbox App secret in **Client Secret**.
6.  Make sure the **Enabled** box is checked.
7.  Now just create a new Dropbox document

{{#> callout type='note' }}
To use the Dropbox file picker with Internet Explorer 11, the following URL must be added to IE11's trusted sites
zone: https://www.dropbox.com.
{{/callout}}

### Setting Up Live Connect for Box

**Step 1: Preparing your application accounts on the Box App console**

1.  Go to [https://app.box.com/developers/services](https://app.box.com/developers/services).
2.  Click on **Create a Box Application**.
3.  Select the **Custom App** application type.
4.  In the Authentication Method screen, select **Standard OAuth 2.0 (User Authentication)**.
5.  Enter the name of your application and select **Create Application**.
6.  In **redirect_uri** set the following URL, adapting the hostname and port to your case: [http://nuxeo-server:8080/nuxeo/site/oauth2/box/callback](http://nuxeo-server:8080/nuxeo/site/oauth2/box/callback) .

    {{#> callout type='info' }}
    Please note that Box allows HTTP only for localhost. For all other sites HTTPS must be used. See [HTTP and HTTPS Reverse-Proxy Configuration](/x/GAFc).
    {{/callout}}

7.  Copy the client_id and client_secret.
8.  Click on button **Save Application**.

**Step 2: Configuring the Nuxeo Platform**

1.  Install the package Nuxeo Live Connect if it is not already installed.
2.  In the **Administration**, go to **Cloud Services** > **Service providers**.
3.  In the **OAuth2 Service providers** section, click on the **Modify** button of the **box** service provider.
4.  Paste the Box client_id in **ClientID**.
5.  Paste the Box client_secret in **Client Secret**.
6.  Make sure the **Enabled** box is checked.
7.  Save.
8.  Now just create a new Box document

{{#> callout type='note' }}
To use the Box file picker with Internet Explorer 11, the following URLs must be added to IE11's trusted sites
zone:

- https://app.box.com
- https://cdn01.boxcdn.net
  {{/callout}}

### Setting Up Live Connect for OneDrive

Live Connect for OneDrive is compatible with Nuxeo Platform 8.2+.

**Step 1: Preparing your application accounts on the OneDrive App console**

1.  Go to [https://account.live.com/developers/applications/index](https://account.live.com/developers/applications/index).
2.  Click on **Add an app**.
3.  Enter the name of your new application and click on **Create application**.
4.  Copy the **Application ID**.
5.  **Application Secrets**: Click on **Generate New Password** and copy it.
6.  On **Platforms**, click on **Add Platform** and then select **Web**. In **Redirect URIs** set the following URL, adapting the hostname and port to your case: `http://nuxeo-server:8080/nuxeo/site/oauth2/onedrive/callback`.
7.  In the **Application permissions** section, activate `Files.Read.All` to your security profile,
8.  Click on **Save**.

**Step 2: Configuring the Nuxeo Platform**

1.  Install the package Nuxeo Live Connect if it is not already installed.
2.  In the **Administration**, go to **Cloud Services** > **Service providers**.
3.  In the **OAuth2 Service providers** section, click on the **Modify** button of the **onedrive** service provider.
4.  Paste the OneDrive client_id in **ClientID**.
5.  Paste the OneDrive client_secret in **Client Secret**.
    {{#> callout type='info' }}
    Default values for
    - Authorization Server URL: https://login.live.com/oauth20_authorize.srf?response_type=code
    - Token Server URL: https://login.live.com/oauth20_token.srf
      {{/callout}}
6.  Make sure the **Enabled** box is checked.
7.  Save.
8.  Now just create a new OneDrive document

{{#> callout type='note' }}
To use the OneDrive file picker with Internet Explorer 11, the following URL must be added to IE11's trusted sites
zone: https://api.onedrive.com.
{{/callout}}

### Setting Up Live Connect for OneDrive for Business

**Step 1: Preparing your application account for OneDrive for Business**

For OneDrive for Business follow steps [here](https://dev.onedrive.com/app-registration.htm#register-your-app-for-onedrive-for-business):

- 1. Get an account from your Office 365 subscription: `username@tenant.onmicrosoft.com` where **username** is your username and **tenant** corresponds to your new domain `http://{tenant}.sharepoint.com`.
- 2. You will need to subscribe to a Microsoft Azure Directory offer.
- 3. Register your app with Azure Active Directory

{{#> callout type='info' }}
While registering your app, at the **Add properties** step, please follow this example to fill in the pop-up and adapt the hostname and port to your case: - SIGN-ON URL: `http://nuxeo-server:8080/nuxeo/site/oauth2/onedrive/callback` - APP ID URI: `http://nuxeo-server:8080/nuxeo/site/oauth2/onedrive`

If you don't get the pop-up, you need to add a new `Web Platform` under Platform.

While setting your application **delegated permissions**, you need to check:

- `Files.Read`
- `Files.Read.All`
- `Files.ReadWrite`
- `Files.ReadWrite.All`
- `Notes.ReadWrite`
- `Notes.ReadWrite.All`
- `Sites.Read.All`
- `Sites.ReadWrite.All`
- `User.Read`
- `User.ReadBasic.All`
- `User.ReadWrite`
- `User.Read.All`
- `User.ReadWrite.All`
  {{/callout}}

**Step 2: Configuring the Nuxeo Platform**

1.  Install the package Nuxeo Live Connect if it is not already installed.
2.  In the **Administration**, go to **Cloud Services** > **Service providers**.
3.  In the **OAuth2 Service providers** section click on the **Modify** button of the **onedrive** service provider.
4.  Paste the OneDrive client_id in **ClientID**.
5.  Paste the OneDrive client_secret in **Client Secret**.
6.  Replace Authorization Server URL by `https://login.microsoftonline.com/common/oauth2/authorize?response_type=code`
7.  Replace Token Server URL by adapting the tenant (`nuxeo` in the URL provided bellow) in **resource** parameter to your case: `https://login.microsoftonline.com/common/oauth2/token?resource=https%3A%2F%2Fnuxeo-my.sharepoint.com%2F`
8.  Make sure the **Enabled** box is checked.
9.  Save.
10. Now just create a new OneDrive document

### Adding Trusted Sites to Internet Explorer 11

In order to be able to use the external file pickers provided by Live Connect, certain URLs must be added to the list of trusted websites. This can be done as follows:

1. Go to **Settings**
1. Click the **Internet Options** menu entry
1. Go to **Security** > **Trusted sites**
1. Click on the **Sites** button and add your URL

![]({{file name='adding_trusted_sites_ie11.png'}} ?w=400,border=true)

## Advanced Live Connect Configuration

### Synchronization

Since cloud files can be changed externally Nuxeo Live Connect relies on a scheduled synchronization process to ensure local metadata is kept up to date. Things like the document's title, thumbnail, full text for indexing, etc, are not updated in realtime since they rely on this regular synchronization job which is set to run every 5 minutes by default.

To change this interval users can override the default contribution:

```xml
<component name="org.nuxeo.ecm.liveconnect.scheduler.override">
  <require>org.nuxeo.ecm.liveconnect.scheduler</require>

  <extension target="org.nuxeo.ecm.core.scheduler.SchedulerService" point="schedule">
    <schedule id="blobProviderDocumentUpdate">
      <event>blobProviderDocumentUpdateEvent</event>
      <!-- default is 0 0/5 * * * ? (every 5 minutes)  -->
	  <!-- change it to run every 30s -->
      <cronExpression>0/30 * * * * ?</cronExpression>
    </schedule>
  </extension>
</component>
```

**Note** Synchronization requires service calls that might be subject to quotas and/or limits. Please refer to each provider's documentation for further information.

## Known General Limitations

- **Nuxeo Drive** is not compatible with files that are stored on a Live Connect backend: files will be downloaded, but it won't be possible to update them.
- **Native versioning**: Only non-native Google Drive documents have revisions created on the Google Drive side.
